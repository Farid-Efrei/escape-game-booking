Efrei - M2 DEV1-Escape Game gitlab ci
Efrei - M2 DEV1-Escape Game gitlab ci
02 septembre 2025 √† 20:00:00
Gestion de R√©servations pour un Escape Game
Objectif : Cr√©er une application PHP pour g√©rer les r√©servations d'un Escape Game, avec tests unitaires et int√©gration GitLab CI/CD.

√ânonc√©
Vous devez d√©velopper un syst√®me de r√©servation pour un Escape Game. Le syst√®me doit :

V√©rifier la disponibilit√© d'une salle √† une date/heure donn√©e.
Calculer le prix de la r√©servation en fonction du nombre de participants et des r√©ductions √©ventuelles.
Valider les donn√©es (ex: √¢ge minimum, cr√©neaux horaires).
Les r√©servations seront stock√©es dans un tableau PHP (pas besoin de base de donn√©es).

√âtapes √† Suivre
1Ô∏è‚É£ Initialisation du Projet
Cr√©ez un d√©p√¥t GitLab nomm√© escape-game-booking.
Structurez votre projet :
/src  
  - Booking.php (classe principale)  
  - Pricing.php (gestion des tarifs)  
/tests  
  - BookingTest.php (tests unitaires)  
.gitlab-ci.yml (fichier CI/CD)  
2Ô∏è‚É£ D√©veloppement des Fonctionnalit√©s
üìå Classe Booking.php
M√©thodes √† impl√©menter :
checkAvailability($date, $room) ‚Üí Retourne true si la salle est libre.
book($date, $room, $players) ‚Üí Enregistre la r√©servation.
validateAge($age) ‚Üí V√©rifie que tous les joueurs ont +12 ans.
üìå Classe Pricing.php
M√©thodes √† impl√©menter :
calculatePrice($players) ‚Üí Applique des r√©ductions si ‚â•4 joueurs.
applyDiscount($price) ‚Üí R√©duction de 10% si r√©servation en semaine.
3Ô∏è‚É£ Tests Unitaires (PHPUnit)
√âcrivez des tests pour :
V√©rifier qu'une r√©servation est bien enregistr√©e.
Tester le calcul du prix avec/sans r√©duction.
Valider les contraintes (√¢ge, cr√©neaux horaires).
Exemple de test :

public function testBookingIsAvailable() {
    $booking = new Booking();
    $this->assertTrue($booking->checkAvailability("2023-12-25 15:00", "Room 1"));
}
4Ô∏è‚É£ CI/CD avec GitLab
Configurez .gitlab-ci.yml pour :
Lancer les tests PHPUnit √† chaque push.
Bloquer le d√©ploiement si les tests √©chouent.
Booking.php

Pricing.php

